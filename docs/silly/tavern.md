# 酒馆介绍——萌新向

!!! note "作者：云边（windcloudmoon）"

	[类脑反馈地址](https://discord.com/channels/1134557553011998840/1319538161906356337)
	不能确定萌新有多新——不只是指AI聊天，还有关于网页、计算机网络、数据传输、大模型、各种计算机语言的一小块内容（xml、css、正则等等）……啊，这些东西通通没必要，因为你只是一个来玩的萌新!虽然了解它们有助于你更快自主了解上手各种内容
	
!!!info "分支"
	
	酒馆开发分为两个分支，一个为release，即稳定版，修改更新频率偏慢；一个为staging，为测试版，开发团队会在这个分支上高频更新新版本，修bug，加功能，有一定积累后才会更新稳定版。二者没有严格的优劣好坏之分，但是由于更新过快（ai发展快速也是一部分原因），会出现不同版本的功能有不兼容的情况，一些以前的预设、说明、酒馆界面的部分功能或许不会适用或者使用时有bug，所以还是推荐大家及时更新酒馆

酒馆是一个可以连接各种AI模型使用的网页平台，未来可能会做成APP，现在的酒馆更像是APP的裸露版，提供了很多功能接口，但是没有封装，可以直接看到/修改设置项而非普通APP那样只需要点点按钮就能完成操作。如果不自己做个性化修改的话，在了解如何导入文件和文件种类后的使用体验和正常APP基本一致。如果你知道github，那么可以继续了解到酒馆也是一个在gihub上开发的开源项目，而我们平时使用酒馆就是把这个项目下载/拉取到本地（自己的手机/平板/电脑等能够存储和运行的电子设备）进行使用。

## 使用酒馆聊天

- 在此我进行以下假设
	* 使用酒馆的目的是文字聊天：即交替和AI发送文字消息
	* 已经能够与AI建立稳定的链接：即你发送的消息AI可以接受，AI发送的消息你可以接收
- 这两个假设将教程限制在无扩展功能（如画图、语音等）、
	* 无获取各类AI模型和具体连接的方法介绍上（会介绍连接界面）

- 一般所有人第一次安装成功打开酒馆后会看到如下界面（左图电脑，右图手机）：

![imh](tavern/main.jpg){ loading=lazy } { align=left }
![img](tavern/phone.jpg){ loading=lazy } { alingn=right }

以左图为例，上方白色条中的九个图标为主菜单，下方白色条中的左侧两个图标也属于菜单，但功能不同，后续会详细说明。

- 通常，社区聊天中对这些菜单的图标会依次称其为（如右图所示）：预设/破限、插头、A 、世界书、用户设置、图片、三个小方块堆起来（扩展）、笑脸（用户）、角色（角色设置）

- 下方图标称呼（从左至右）：三横线/三横杠、魔术棒、小飞机/纸飞机/发送

从这些称呼中可以看出，主要从图标样式和实际功能代指它们以在沟通中达成共识
以下为各菜单区功能的一句话简介：

- 预设/破限：可以导入文件，其中有规范的指令指导AI回复（预设）和防止AI道歉（破限），预设为主体,破限通常为指令中的一部分,可能单独可能与预设混合也可能没有。因此两种称呼时有混用

- 插头：连接模型（红色带感叹号代表不能与AI建立链接，不符合前述第二假设，无法聊天）

- A：高级文本设置。太高级、不会、没用、非萌新向，不用管不用动

- 世界书：像书一样方便你写入一类信息并存储，提供结构组织功能，像书一样每本是独立的，这是针对你的理解而非AI

- 用户设置：类比理解为每个APP都存在的账户、设置等内容，可以管理用户信息，提供个性化设置，如各个区域的颜色设置，UI显示设置等等

- 图片：仅仅是用作背景的图片，会做为底图填充整个界面，等价于手机/电脑壁纸

- 扩展：有诸多功能组成的二级菜单，常用的有安装扩展、快速回复、正则。

- 用户：特指聊天时你的身份，可以在这里创建多个身份并管理切换

- 角色设置：特指聊天时AI模型用于和你的角色对话的身份，可以在这里导入创建管理角色卡。

**因此，基础使用就只需要连上AI模型、新建一个角色卡(什么都不填就起一个名字就行）、给自己创建一个身份（最基础的只填一个名字）、点击这个角色条目四步，酒馆就可以新建一个聊天界面，你就可以和AI进行聊天，和在官方网站聊天一样，十分简单~**

## 接下来，开始进阶：
1. 我想它回答得长/有文采/聊瑟瑟/像写小说/像语聊==想要某种特定风格/范式的回答==添加预设破限
2. 我想它作为小说角色/动漫角色/我的OC/原创角色和我玩角色扮演  或者 想要它帮我写作业/解答 ==想要AI作为某一特定身份回应==添加角色卡
3. 我想它在回复时加入xx/给它加世界观/对xx进行强化==想让AI对某个内容有特定理解==添加世界书（又名知识书）
4. 我想让回复时不要出现xx/这前面一大段是什么/……==针对特定文字处理==添加正则

**以上为问题==归纳==解决方案，所有的添加内容均是导入文件，或者自行新建，除角色卡会有图片格式外，文件均为json格式，**

!!! tip "关于正则"

	正则常常会在各种文件中附带需要导入，例如一个预设文件搭配三个配套的正则文件，注意查阅作者介绍，区分不同文件，分别导入对应位置

## 酒馆各常见图标及功能简介汇总

**可以自行意会的萌新可跳过此处，是电脑也不用看，部分UI鼠标悬停会出现文字说明**

- 这是聊天界面的图标：

![img](tavern/chat.jpg){ loading=lazy }

- 这是各个菜单界面的有关图标：

![imh](tavern/menu.jpg){ loading=lazy }
![im](tavern/connect.jpg){ loading=lazy }
![im](tavern/form.jpg){ loading=lazy }
![im](tavern/work.jpg){ loading=lazy }
![im](tavern/per.jpg){ loading=lazy }
![im](tavern/char.jpg){ loading=lazy }

## 部分名词解释

- DC：Discord软件简称，在谷歌商店或官网可以下载。
- 类脑：Discord上的开源AI简中社区，是酒馆爱好者聚集地，禁止商业行为，强调版权意识，推崇原创与共享。
- AI/模型：指的是由人工智能驱动的模型，可以进行各种任务，例如文本生成、图像处理等。
- 语义：指AI理解和处理语言的方式，关注的是语言背后的意思而非单纯的词汇。
- Api：应用程序接口（API），是软件系统之间交互的标准协议。它允许不同的软件应用互相通信并交换数据。
- Cookie：存储在用户设备上的小段数据，通常用于保存用户的偏好设置或身份信息。
- Clewd：一个Github上的项目，可以利用cookie帮助访问需要身份认证的服务。
- 小克/克劳德/Claude：指Claude模型的昵称，是由A社开发的一个AI模型。
- A社：Claude模型的官方公司简称，指的是Anthropic公司。
- Gemini/哈基米：谷歌推出的最新AI模型的简称/爱称。
- DS：Deepseek的简称，一款强大的搜索引擎或工具，通常用于特定AI数据的查找。
- Cur逆向：一种逆向工程技术，通常用于探索和分析系统、程序或服务的行为，尤其是AI系统的细节。
- 公益站：提供免费AI使用渠道的站点,通过爱心捐赠支持运营者，无偿提供服务，通常依赖志愿者的时间、精力和资金支持。
- 渠道：指通过不同的途径、平台或服务访问模型或信息的路径。
- 模型：指人工智能的算法、架构和训练方法，通过这些模型，AI能够理解和生成语言或执行任务。
- 审查：对内容的监管和控制，通常指对不安全、不合适或违反规则的内容进行拦截或过滤。
- 截断：当生成内容的长度超过了模型的限制时或者被审查时，AI会自动切割或忽略超出的部分，确保回复在设定的范围内。
### 道歉：
- 硬道歉：模型拒绝生成不安全或不合适的内容，通过明确的道歉声明进行反馈。
- 软道歉：回避某些敏感话题或内容，表面上生成正文内容，但情节上避免了不安全或敏感的部分。
- 黄标：官网上的黄色警告标识，通常提示内容可能违反了平台的使用规则或隐私政策。
- 降智：指模型的生成质量因某些原因而下降，可能由于超负荷的运算、硬件限制或模型本身的限制。
- Thinking/COT：指引AI进行思考，指导模型如何在回复之前进行自我推理或拆解问题。
- 文风：AI生成内容时所采用的表达方式和风格。
- 宏：指在模板中使用的占位符，例如{{user}}，会在实际执行时自动替换为你为自己设置的名称或其他动态内容。
- 快速回复/QR：预设的代码片段，当用户点击按钮时触发，快速生成预设的回复内容或者完成某个操作。
- 美化：酒馆界面调整,通常是为了提升用户体验或界面美观进行的细节修改。
- 前端：指网站或应用程序的用户界面部分，用户能够直接交互的部分。
- 前端助手：一种前端的插件或工具，通常安装在浏览器扩展中，帮助用户进行UI调整、辅助功能或快捷操作。在类脑看到的前端助手是大佬写的github项目，作为插件安装在扩展中，实现前端脚本（如美化、手机界面、编辑世界书、导入快速回复等）运行，为酒馆角色卡编写提供额外支持
- 帮助文档：提供用户指导和操作说明的文档，帮助用户理解如何使用酒馆的各项功能。
- 前台：指当前展示在手机或网页上的界面，也叫酒馆页面。与后台相对，后台是程序和服务的运行区域。
- 小作文：通常指短小的文本内容，用户输入后生成的简短文章或句段。
- 提示词后处理：指对发送给ai的内容（提示词）进行的处理
- 摘要：对长篇内容进行简化和提炼，提取出主要信息或核心观点。
- 总结：对内容或事件的总结性陈述，通常用于简洁地回顾重点。
- 状态栏：界面底部显示的区域，通常用来展示操作进度、通知或当前系统状态，一般会用在ai回复里，用<statusblock>包裹。
- roll：刷新回复（具体请参照酒馆聊天部分）

## 正式的酒馆功能介绍
### 预设/破限:

导入破限/预设通常会附带正则，可能还需要导入快速回复（QR）或者其它文件，需要按作者说明操作，找到最新版文件，不要遗漏。不同预设因为作者写预设时的语句、用词、倾向等等，AI呈现的风格也不尽相同，可以多多尝试比较选择自己喜欢的。
一般情况/对萌新而言，破限/预设处无需任何调整即可正常使用，作者有额外说明除外
这个界面可大致分为四个部分，依次介绍（会借用两位大佬的预设）

### 了解破限/预设

不用了解了，直接去下载用吧

### 字符长度相关
- 上下文长度：
准确来说应该是上文长度，越长ai回复时看到的内容就越多，那自然可以参考的信息就越多。把ai接受上下文当成你在考试做阅读理解，只能从头到尾看一遍，那么你出现的问题就是ai会出现的问题。
- 最大回复长度：
答题纸为格子型，不能挤占格子，超了没地儿写，最大回复长度设置太大没有意义，因为模型可能不会写那么多
- 备选回复
官网模型一般都不支持，可以查看官方对模型的说明文档
- 流式传输：
你是监考老师，开启后你看着它答题，也就是ai回复多少就可以看多少；没有开它交卷后你才看到答题结果，只能等ai全部生成完才能收到回复结果


??? info "部分因长度产生的问题举例："

	a. 上下文太长（报错 promot is too long）：一口气读完所有内容，没气憋死了。claude普通cookies不能超过25k，Gemini的有效注意力一般在40k左右，不排除奇迹发生突然出了一个翻旧账的回复
	b. 内容混乱：你在做外国文学阅读理解，看到了一堆家族人名，最后做题时不能回头看文章写出的答案
	c. 没有按逻辑变化（比如一些数值）：超长篇阅读时出现的忽大忽小的数字，题目：请你分析接下来的情景下的数字时你的答案（ps：你记忆力绝佳，不会忘记所有数字只记住最新的）。这也是时间这类规律变化的内容呈现效果更好的原因。
	d. 重复：题目：本题要求写1000字回答，请作答，你能写完，写到最后时能记住前面的内容并保持一致吗？（这里的解决方式：思维链（cot），人话可以说是写作前的大纲）如果你是个差生写不完，后面你是不是会水字数？AI同理
	e. 红色框的警告（token budget）：上下文长度太小，不足以向AI发送所有的必要内容，就会警告，发送时AI不会回复，聊天界面上会出现报错信息








